{% extends 'layout.html' %}
{% block title %}Custom Puzzle Creator{% endblock %}
{% block content %}
<h2 class="text-center mb-4"><i class="bi bi-plus-circle-fill"></i> Buat Puzzle Logika-mu Sendiri</h2>
<div class="card mx-auto" style="max-width: 700px;">
    <div class="card-body">
        <div class="mb-3">
            <label for="custom-question" class="form-label fw-bold"><i class="bi bi-question-circle"></i> Pertanyaan Puzzle:</label>
            <textarea class="form-control" id="custom-question" rows="3" placeholder="Contoh: 1, 2, 3, 4, ...?"></textarea>
        </div>
        <div class="mb-3">
            <label for="custom-answer" class="form-label fw-bold"><i class="bi bi-check-circle"></i> Jawaban Singkat:</label>
            <input type="text" class="form-control" id="custom-answer" placeholder="Contoh: 5">
        </div>
        <div class="mb-3">
            <label for="custom-hint" class="form-label fw-bold"><i class="bi bi-search"></i> Petunjuk (Hint):</label>
            <input type="text" class="form-control" id="custom-hint" placeholder="Contoh: Deret angka">
        </div>
        <button id="save-puzzle-btn" class="btn btn-primary w-100">
            <i class="bi bi-save-fill"></i> Simpan Puzzle
        </button>
        <p class="text-center mt-3">
            <a href="/play_custom">Lihat & Mainkan Puzzle Buatanmu <i class="bi bi-arrow-right"></i></a>
        </p>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script>
    document.getElementById('save-puzzle-btn').addEventListener('click', () => {
        const q = document.getElementById('custom-question').value;
        const a = document.getElementById('custom-answer').value;
        const h = document.getElementById('custom-hint').value;
        if (!q || !a) {
            alert('Pertanyaan dan Jawaban tidak boleh kosong!');
            return;
        }
        if (window.mathPuzzle) {
            window.mathPuzzle.saveCustomPuzzle(q, a, h);
            alert('Puzzle berhasil disimpan di browsermu!');
            document.getElementById('custom-question').value = '';
            document.getElementById('custom-answer').value = '';
            document.getElementById('custom-hint').value = '';
        } else {
            alert('Error: Gagal memuat main.js');
        }
    });
</script>
{% endblock %}